<p-card *ngIf="contractor" header="{{ contractor.contractorName }} קבלן ">
  <div *ngIf="!editMode">
    <div class="p-grid">
      <div class="p-col-12 p-md-6">{{ contractor.contractorName }}:שם הקבלן</div>
      <div class="p-col-12 p-md-6" *ngIf="contractor.contractorIdentity">{{ contractor.contractorIdentity }}:מספר ח.פ</div>
      <div class="p-col-12 p-md-6" *ngIf="contractor.managementName">{{ contractor.managementName }}:שם מלא של המנהל</div>
      <div class="p-col-12 p-md-6" *ngIf="contractor.managementId">{{ contractor.managementId }}:ת.ז</div>
      <div class="p-col-12 p-md-6" *ngIf="contractor.address">{{ contractor.address }} :כתובת</div>
      <div class="p-col-12 p-md-6" *ngIf="contractor.certificateConsortium">{{ contractor.certificateConsortium }}:ת. האגד</div>
      <div class="p-col-12 p-md-6" *ngIf="contractor.form50">{{ contractor.form50 }}:טופס 50</div>
    </div>
    <button pButton type="button" label="ערוך קבלן" icon="pi pi-pencil" (click)="toggleEditMode()"></button>
  </div>

  <div *ngIf="editMode">
    <form [formGroup]="contractorForm" (ngSubmit)="onSave()">
      <div class="p-fluid">
        <div class="p-field">
          <label for="contractorName">שם הקבלן</label>
          <input id="contractorName" type="text" pInputText formControlName="contractorName" />
          <div *ngIf="contractorForm.get('contractorName')?.invalid && contractorForm.get('contractorName')?.touched">
            <small class="p-error">נא להזין שם קבלן תקין</small>
          </div>
        </div>
        <div class="p-field">
          <label for="contractorIdentity">מספר ח.פ</label>
          <input id="contractorIdentity" type="text" pInputText formControlName="contractorIdentity" />
          <div *ngIf="contractorForm.get('contractorIdentity')?.invalid && contractorForm.get('contractorIdentity')?.touched">
            <small class="p-error">נא להזין מספר ח.פ תקין</small>
          </div>
        </div>
        <div class="p-field">
          <label for="managementName">שם מלא של המנהל</label>
          <input id="managementName" type="text" pInputText formControlName="managementName" />
          <div *ngIf="contractorForm.get('managementName')?.invalid && contractorForm.get('managementName')?.touched">
            <small class="p-error">נא להזין שם מלא של המנהל תקין</small>
          </div>
        </div>
        <div class="p-field">
          <label for="managementId">ת.ז</label>
          <input id="managementId" type="text" pInputText formControlName="managementId" />
          <div *ngIf="contractorForm.get('managementId')?.invalid && contractorForm.get('managementId')?.touched">
            <small class="p-error">נא להזין ת.ז תקין</small>
          </div>
        </div>
        <div class="p-field">
          <label for="address">כתובת</label>
          <input id="address" type="text" pInputText formControlName="address" />
          <div *ngIf="contractorForm.get('address')?.invalid && contractorForm.get('address')?.touched">
            <small class="p-error">נא להזין כתובת תקינה</small>
          </div>
        </div>
        <div class="p-field">
          <label for="certificateConsortium">ת. האגד</label>
          <input id="certificateConsortium" type="text" pInputText formControlName="certificateConsortium" />
          <div *ngIf="contractorForm.get('certificateConsortium')?.invalid && contractorForm.get('certificateConsortium')?.touched">
            <small class="p-error">נא להזין ת. האגד תקינה</small>
          </div>
        </div>
        <div class="p-field">
          <label for="form50">טופס 50</label>
          <input id="form50" type="text" pInputText formControlName="form50" />
          <div *ngIf="contractorForm.get('form50')?.invalid && contractorForm.get('form50')?.touched">
            <small class="p-error">נא להזין טופס 50 תקין</small>
          </div>
        </div>
        <button pButton type="submit" label="שמור" [disabled]="contractorForm.invalid"></button>
        <button pButton type="button" label="ביטול" (click)="toggleEditMode()"></button>
      </div>
    </form>
  </div>
</p-card>